@0
ST:MOV RIGHT, ACC
   SAV
   MOV RIGHT, ACC
   MOV ACC, DOWN

LP:JGZ MX
   JMP ST

MX:SWP
   MOV ACC, DOWN
   SWP
   SUB 1
   JMP LP

@1
RS:MOV UP, ACC
   MOV ACC, RIGHT
   MOV ACC, RIGHT
LS:MOV UP, ACC
   SAV
   SUB RIGHT
   JLZ RF
   JMP LF
LF:SWP
   MOV ACC, LEFT
   MOV RIGHT, LEFT
   JMP RS
RF:MOV RIGHT, LEFT
   SWP
   MOV ACC, LEFT

@2
RS:MOV UP, ACC
   SAV
   SUB LEFT
   JGZ RF
   JMP LF
RF:SWP
   MOV ACC, RIGHT
   MOV LEFT, RIGHT
   JMP LS
LF:MOV LEFT, RIGHT
   SWP
   MOV ACC, RIGHT
LS:MOV UP, ACC
   MOV ACC, LEFT
   MOV ACC, LEFT

@3
ST:MOV LEFT, ACC
   SAV
   MOV LEFT, ACC
   MOV ACC, DOWN

LP:JGZ MX
   JMP ST

MX:SWP
   MOV ACC, DOWN
   SWP
   SUB 1
   JMP LP

@4
ST:MOV LEFT, ACC

LP:JGZ AD
   JMP OT

AD:SWP
   ADD LEFT
   SWP
   SUB 1
   JMP LP

OT:SWP
   MOV ACC, DOWN

@5
ST:MOV RIGHT, ACC

LP:JGZ AD
   JMP OT

AD:SWP
   ADD RIGHT
   SWP
   SUB 1
   JMP LP

OT:SWP
   MOV ACC, DOWN

@6
MOV UP, RIGHT

@7
# RIGHT STACK
MOV UP, DOWN

# LEFT STACK
MOV LEFT, DOWN

@8
##DOUBLE STACK OPT

#RS = RIGHT SIDE
#LS = LEFT SIDE

#RF = RIGHT FIRST
#LF = LEFT FIRST