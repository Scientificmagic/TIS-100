@0
ST:MOV RIGHT, ACC
   SAV
   MOV RIGHT, ACC
   MOV ACC, DOWN

LP:JGZ MX
   JMP ST

MX:SWP
   MOV ACC, DOWN
   SWP
   SUB 1
   JMP LP

@1
# RIGHT STACK
MOV UP, RIGHT



# LEFT STACK
MOV UP, LEFT
MOV RIGHT, LEFT

@2
# RIGHT STACK
MOV UP, RIGHT
MOV LEFT, RIGHT


# LEFT STACK
MOV UP, LEFT

@3
ST:MOV LEFT, ACC
   SAV
   MOV LEFT, ACC
   MOV ACC, DOWN

LP:JGZ MX
   JMP ST

MX:SWP
   MOV ACC, DOWN
   SWP
   SUB 1
   JMP LP

@4
ST:MOV LEFT, ACC

LP:JGZ AD
   JMP OT

AD:SWP
   ADD LEFT
   SWP
   SUB 1
   JMP LP

OT:SWP
   MOV ACC, DOWN

@5
ST:MOV RIGHT, ACC

LP:JGZ AD
   JMP OT

AD:SWP
   ADD RIGHT
   SWP
   SUB 1
   JMP LP

OT:SWP
   MOV ACC, DOWN

@6
MOV UP, RIGHT

@7
# RIGHT STACK
MOV UP, DOWN

# LEFT STACK
MOV LEFT, DOWN

@8
##DOUBLE STACK ADD